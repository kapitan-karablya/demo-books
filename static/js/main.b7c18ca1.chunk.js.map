{"version":3,"sources":["BookForm/index.js","AddBookField/index.js","Book/index.js","no_cover.jpeg","BookList/index.js","Modal/index.js","Main/index.js","App.js","reportWebVitals.js","index.js"],"names":["BookForm","props","useState","bookId","JSON","parse","localStorage","getItem","title","author","cover","inputValues","setInputValues","handleOnChange","event","target","name","value","className","onSubmit","preventDefault","lastId","parseInt","setItem","stringify","document","querySelector","update","htmlFor","id","type","onChange","accept","file","files","undefined","Promise","resolve","reject","reader","FileReader","readAsDataURL","onload","result","onerror","error","getBase64","then","data","AddBookField","Book","book","width","height","src","alt","onClick","clickEditButton","removeItem","BookList","length","Object","keys","books","slice","reverse","map","Modal","onKeydown","key","onClose","useEffect","addEventListener","removeEventListener","visible","e","stopPropagation","Main","isModal","setModal","setBookId","getBooksList","i","setBooks","setTimeout","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.b7c18ca1.chunk.js","sourcesContent":["import './style.css';\r\nimport React, {useState} from \"react\";\r\n\r\n\r\nfunction BookForm(props) {\r\n\r\n    const [inputValues, setInputValues] = useState(\r\n        props.bookId ? JSON.parse(localStorage.getItem(props.bookId)) : {\r\n            title: '', author: '', cover: ''});\r\n\r\n    const handleOnChange = event => {\r\n        const {name, value} = event.target;\r\n        setInputValues({...inputValues, [name]: value});\r\n    };\r\n\r\n    const handleSubmit = event => {\r\n        event.preventDefault();\r\n        let bookId;\r\n        if (!props.bookId) {\r\n            let lastId = localStorage.getItem('lastId');\r\n            bookId = lastId === null ? 1 : parseInt(lastId) + 1;\r\n            localStorage.setItem('lastId', bookId);\r\n        }\r\n        else\r\n            bookId = props.bookId;\r\n        localStorage.setItem(bookId, JSON.stringify(inputValues));\r\n        setInputValues({\r\n            title: '', author: '', cover: ''\r\n        });\r\n        const file = document.querySelector('.book-form-picture');\r\n        file.value = '';\r\n        props.update();\r\n    };\r\n\r\n    function getBase64(file) {\r\n        return new Promise((resolve, reject) => {\r\n            const reader = new FileReader();\r\n            reader.readAsDataURL(file);\r\n            reader.onload = () => resolve(reader.result);\r\n            reader.onerror = error => reject(error);\r\n        });\r\n    }\r\n\r\n    const handleOnChangeCover = event => {\r\n        let file = event.target.files[0];\r\n        if (file === undefined)\r\n            return;\r\n        const name = event.target.name;\r\n        getBase64(file).then(\r\n            data => setInputValues({...inputValues, [name]: data})\r\n        );\r\n\r\n    };\r\n\r\n    return (\r\n        <form className=\"book-form\" onSubmit={handleSubmit}>\r\n            <label className=\"book-form-label\" htmlFor=\"book-title\">Название книги</label>\r\n            <input className=\"book-form-input\"\r\n                   id=\"book-title\"\r\n                   type=\"text\"\r\n                   name=\"title\"\r\n                   value={inputValues.title}\r\n                   onChange={handleOnChange}/>\r\n            <label className=\"book-form-label\" htmlFor=\"book-author\">Автор книги</label>\r\n            <input className=\"book-form-input\"\r\n                   id=\"book-author\"\r\n                   type=\"text\"\r\n                   name=\"author\"\r\n                   value={inputValues.author}\r\n                   onChange={handleOnChange}/>\r\n            <label className=\"book-form-label\">Добавить обложку (145x205)</label>\r\n            <input className=\"book-form-picture\"\r\n                   type=\"file\"\r\n                   name=\"cover\"\r\n                   accept=\"image/*\"\r\n                   onChange={handleOnChangeCover}/>\r\n            <button className=\"book-form-submit\" type=\"submit\">Сохранить</button>\r\n        </form>\r\n    );\r\n}\r\n\r\nexport default BookForm;\r\n","import './style.css';\r\nimport React from \"react\";\r\nimport BookForm from \"../BookForm\";\r\n\r\nfunction AddBookField(props) {\r\n    return (\r\n        <div className=\"add-book-field\">\r\n            <p className=\"add-book-title\">Добавить книгу</p>\r\n            <BookForm update={props.update}/>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default AddBookField;\r\n","import './style.css';\r\nimport React from \"react\";\r\nimport {useState} from \"react\";\r\nimport no_cover from \"../no_cover.jpeg\"\r\n\r\nfunction Book(props) {\r\n    let [book] = useState( JSON.parse(localStorage.getItem(props.id)));\r\n\r\n    const deleteBook = () => {\r\n        localStorage.removeItem(props.id);\r\n        props.update();\r\n    };\r\n\r\n    return (\r\n        <div className=\"book\">\r\n            <div className=\"book-cover\">\r\n                <img width=\"145\" height=\"205\"\r\n                     src={book.cover === '' ? no_cover : book.cover}\r\n                     alt=\"\"/>\r\n            </div>\r\n            <div className=\"book-info\">\r\n                <p className=\"book-title\">{book.title === '' ? 'Без названия' : book.title}</p>\r\n                <p className=\"book-author\">{book.author === '' ? 'Автор неизвестен' : book.author}</p>\r\n            </div>\r\n            <div className=\"hide-book-buttons\">\r\n                <button className=\"book-button book-edit-button\" onClick={() => props.clickEditButton(props.id)}>Изменить</button>\r\n                <button className=\"book-button book-delete-button\" onClick={deleteBook}>Удалить</button>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Book;\r\n","export default \"data:image/jpeg;base64,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\"","import './style.css';\r\nimport React from \"react\";\r\nimport Book from \"../Book\";\r\n\r\nfunction BookList(props) {\r\n\r\n    if (localStorage.length < 2)\r\n        return <div className=\"empty_list\"><p>Книг пока нет</p><p>Добавьте книги через соответствующую форму</p></div>\r\n\r\n    return (\r\n\r\n        <div className=\"book-list\">\r\n            {Object.keys(props.books).slice(0).reverse().map(bookId => (\r\n                <Book key={bookId} id={bookId} update={props.update} clickEditButton={props.clickEditButton}/>\r\n            ))}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default BookList;\r\n","import './style.css';\r\nimport React, {useEffect} from \"react\";\r\nimport BookForm from \"../BookForm\";\r\n\r\nfunction Modal(props) {\r\n\r\n    const onKeydown = (event) => {\r\n        if(event.key === 'Escape'){\r\n                props.onClose()\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        document.addEventListener('keydown', onKeydown)\r\n        return () => document.removeEventListener('keydown', onKeydown)\r\n    });\r\n\r\n    const saveChanges = () => {\r\n        props.update(props.bookId);\r\n        props.onClose();\r\n    };\r\n\r\n    if (!props.visible)\r\n        return null;\r\n    else\r\n        return (\r\n            <div className=\"modal\" onClick={() => props.onClose()}>\r\n                <div className=\"modal-dialog\"  onClick={e => e.stopPropagation()}>\r\n                    <p className=\"modal-title\">Изменить книгу</p>\r\n                    <BookForm bookId={props.bookId} update={saveChanges}/>\r\n                    <span className='modal-close' onClick={() => props.onClose()}>\r\n                        &times;\r\n                    </span>\r\n                </div>\r\n            </div>\r\n        );\r\n}\r\n\r\nexport default Modal;\r\n","import './style.css';\r\nimport React, {useState} from \"react\";\r\nimport AddBookField from \"../AddBookField\";\r\nimport BookList from \"../BookList\";\r\nimport Modal from \"../Modal\";\r\n\r\nfunction Main() {\r\n    const [isModal, setModal] = useState(false);\r\n    const [bookId, setBookId] = useState(undefined);\r\n\r\n    const onClose = () => setModal(false);\r\n\r\n    const getBooksList = () => {\r\n        let books = {};\r\n        for(let i=0; i<localStorage.length; i++) {\r\n            let key = localStorage.key(i);\r\n            if (key !== \"lastId\")\r\n                books[key] = JSON.parse(localStorage.getItem(key));\r\n        }\r\n        return books\r\n    };\r\n\r\n    const [books, setBooks] = useState(getBooksList());\r\n\r\n    const clickEditButton = (id) => {\r\n        setBookId(id);\r\n        setModal(true);\r\n    };\r\n\r\n    const click = () => {\r\n        setBooks({});\r\n        setTimeout(setBooks, 0, getBooksList());\r\n    };\r\n\r\n    return (\r\n        <main className=\"App-main\">\r\n            <AddBookField update={() => setBooks(getBooksList())}/>\r\n            <BookList books={books} clickEditButton={clickEditButton} update={() => setBooks(getBooksList())}/>\r\n            <Modal\r\n                visible={isModal}\r\n                title='Заголовок'\r\n                onClose={onClose}\r\n                bookId={bookId}\r\n                update={() => click()}\r\n            />\r\n        </main>\r\n    );\r\n}\r\n\r\nexport default Main;\r\n","import './App.css';\nimport React from \"react\";\nimport Main from \"./Main\";\n\nfunction App() {\n\n    return (\n        <div className=\"App\">\n            <header className=\"App-header\">\n                <h1>Каталог книг</h1>\n            </header>\n            <Main/>\n        </div>\n    );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}